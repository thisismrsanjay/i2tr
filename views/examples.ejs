<% include top%>
<div class="mt-5">

    <h2>Paste code in the editor</h2>

    <div class="row">
        <div class="col-lg-4 col-md-6">
            <div class="card" style="width: 18rem;">
                <img class="card-img-top" src="/example/ball.png" alt="Card image cap">
                <div class="card-body">
                    <h5 class="card-title">Physics Ball Stimulation </h5>
                    <p class="card-text">Example snippet to run physics ball stimuation in javascript.</p>
                    <a href="#" class="btn btn-primary" data-toggle="modal" data-target="#ball">Code</a>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6">

            <div class="card" style="width: 18rem;">
                <img class="card-img-top" src="/example/fireworks.png" alt="Card image cap">
                <div class="card-body">
                    <h5 class="card-title">FireWorks Stimulation </h5>
                    <p class="card-text">Example snippet to run physics fireworks stimuation in javascript.</p>
                    <a href="#" class="btn btn-primary" data-toggle="modal" data-target="#firework">Code</a>
                </div>
            </div>

        </div>
        <div class="col-lg-4 col-md-6">
                <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src="/example/rain.png" alt="Card image cap">
                        <div class="card-body">
                            <h5 class="card-title">Rain Stimulation </h5>
                            <p class="card-text"> rain stimuation in javascript.</p>
                            <a href="#" class="btn btn-primary" data-toggle="modal" data-target="#rain">Code</a>
                        </div>
                    </div>
        </div>

        <div class="col-lg-4 col-md-6">
                <div class="card" style="width: 18rem;">
                        <img class="card-img-top" src="/example/timer.png" alt="Card image cap">
                        <div class="card-body">
                            <h5 class="card-title">React Timer Application </h5>
                            <p class="card-text"> React Timer javascript.</p>
                            <a href="#" class="btn btn-primary" data-toggle="modal" data-target="#timer">Code</a>
                        </div>
                    </div>
        </div>
    </div>

    
    
</div>




<div class="modal fade" id="timer" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Physics Ball Code</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <textarea spellcheck="false" class="form-control" name="" id="" cols="20" rows="30">
<html>
<head>
</head>
<style type="text/css">
.sw-btn {
	border: 1px solid #000;
	font-size: 2em;
	padding: 15px;
	margin: 5px;
	width: 200px;
}

.sw-btn-clear {
	background: #fff;
}

.sw-time {
	display: block;
	font-size: 5em;
}
</style>
<body>
	<div id="root"></div>
	<script src="https://unpkg.com/react@16/umd/react.development.js"></script>
	<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
	<script src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>
	<script type="text/babel">
		class StopWatch extends React.Component {
			state = {
				lapse: 0, 
				running: false
			};

			handleRunClick = () => {
				this.setState(state => {
					if(state.running) {
						clearInterval(this.timer);
					}
					else {
						const startTime = Date.now() - this.state.lapse;

						this.timer = setInterval(() => {
							this.setState({
								lapse: Date.now() - startTime
							});
						});
					}
					return { running: !state.running };
				});
			}

			handleClearClick = () => {
				clearInterval(this.timer);
				this.setState({
					lapse: 0,
					running: false
				});
			}
			// This is important for clearing potential memory leaks & should be used for cleaning up async operations
			componentWillUnmount() {
				clearInterval(this.timer);
			}

			render() {
				const {lapse, running} = this.state;
				const btnClass = running ? 'btn-danger' : 'btn-success';

				return (
					<div className='text-center'>
						<label className='sw-time'>
							{lapse}ms
						</label>
						<button onClick={this.handleRunClick} className={`btn ${btnClass} sw-btn`}>{ running ? 'Stop' : 'Start' }</button>
						<button onClick={this.handleClearClick} className='btn btn-light sw-btn sw-btn-clear'>Clear</button>
					</div>
				)
			}
		}

		const element = <StopWatch />

		ReactDOM.render(
			element, 
			document.getElementById('root')
		);
	</script>
</body>
</html>
              </textarea>
                </div>
    
            </div>
        </div>
    </div>


<div class="modal fade" id="rain" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Physics Ball Code</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <textarea spellcheck="false" class="form-control" name="" id="" cols="20" rows="30">
                            <div id="instructions"></div>
                            <canvas id="canvas">Canvas is not supported in your browser</canvas>
                            
                            <style type="text/css">
                            html, body, canvas, #instructions {
                              position: absolute;
                              width: 100%;
                              height: 100%;
                            }
                            
                            body {
                              /* FF3.6-15 */
                              /* Chrome10-25,Safari5.1-6 */
                              background: linear-gradient(to bottom, #080d28 0%, #261300 100%);
                              /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
                            }
                            
                            #instructions {
                              opacity: 1;
                              transition: opacity 2s;
                              background-repeat: no-repeat;
                              background-position: center center;
                              background-size: contain;
                              background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjI1NnB4IiBoZWlnaHQ9IjI1NnB4IiB2aWV3Qm94PSIwIDAgMjU2IDI1NiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjU2IDI1NjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwb2x5Z29uIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBwb2ludHM9IjIyLjE0LDQ4IDM3LjA0NSwyMi4xODMgNTEuOTUxLDQ4Ii8+PHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iNTEuOTUxLDE4NiAzNy4wNDUsMjExLjgxNiAyMi4xNCwxODYiLz48cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSI3MCwyMzMuODEyIDQ0LjE4NCwyMTguOTA2IDcwLDIwNC4wMDEiLz48cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIyMDgsMjA0LjAwMSAyMzMuODE2LDIxOC45MDYgMjA4LDIzMy44MTIiLz48cmVjdCB4PSIzMSIgeT0iNDciIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTQxIi8+PHJlY3QgeD0iNjgiIHk9IjIxMyIgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHdpZHRoPSIxNDEiIGhlaWdodD0iMTIiLz48dGV4dCB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDExNC45NDUzIDEwMy4zNTc5KSI+PHRzcGFuIHg9IjAiIHk9IjAiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IGZvbnQtZmFtaWx5OidBcmlhbC1Cb2xkTVQnOyBmb250LXNpemU6MTY7Ij5EUkFHPC90c3Bhbj48dHNwYW4geD0iMTYuMDA0IiB5PSIxOS4yIiBzdHlsZT0iZmlsbDojRkZGRkZGOyBmb250LWZhbWlseTonQXJpYWwtQm9sZE1UJzsgZm9udC1zaXplOjE2OyI+dG88L3RzcGFuPjx0c3BhbiB4PSItMTEuMTEzIiB5PSIzOC40MDEiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IGZvbnQtZmFtaWx5OidBcmlhbC1Cb2xkTVQnOyBmb250LXNpemU6MTY7Ij5DSEFOR0U8L3RzcGFuPjwvdGV4dD48dGV4dCB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAxIDExNy4xNzE5IDIwNy4xMzI4KSIgc3R5bGU9ImZpbGw6I0ZGRkZGRjsgZm9udC1mYW1pbHk6J0FyaWFsLUJvbGRNVCc7IGZvbnQtc2l6ZToxNjsiPldJTkQ8L3RleHQ+PHRleHQgdHJhbnNmb3JtPSJtYXRyaXgoLTQuMzcxMTM5ZS0wOCAtMSAxIC00LjM3MTEzOWUtMDggNTkuODcwMSAxODEuMDU4NikiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IGZvbnQtZmFtaWx5OidBcmlhbC1Cb2xkTVQnOyBmb250LXNpemU6MTY7Ij5SQUlOIElOVEVOU0lUWTwvdGV4dD48L3N2Zz4=);
                            }
                            @media (max-height: 400px) {
                              #instructions {
                                display: none;
                              }
                            }
                            
                            </style>
                            
                            <script type="text/javascript">
                            // Falling rain simulation using 2D canvas
                            // - vanilla JS, no frameworks
                            // - framerate independent physics
                            // - slow-mo / fast-forward support via demo.speed
                            // - supports high-DPI screens
                            // - falling rain particles are drawn as vector lines
                            // - splash particles are lazily pre-rendered so gradients aren't computed each frame
                            // - all particles make use of object pooling to further boost performance
                            
                            // initialize
                            document.addEventListener("DOMContentLoaded", function() {
                                demo.init();
                                window.addEventListener('resize', demo.resize);
                            });
                            
                            // demo namespace
                            var demo = {
                                // CUSTOMIZABLE PROPERTIES
                                // - physics speed multiplier: allows slowing down or speeding up simulation
                                speed: 1,
                                // - color of particles
                                color: {
                                    r: '80',
                                    g: '175',
                                    b: '255',
                                    a: '0.5'
                                },
                                
                                // END CUSTOMIZATION
                                // whether demo is running
                                started: false,
                                // canvas and associated context references
                                canvas: null,
                                ctx: null,
                                // viewport dimensions (DIPs)
                                width: 0,
                                height: 0,
                                // devicePixelRatio alias (should only be used for rendering, physics shouldn't care)
                                dpr: window.devicePixelRatio || 1,
                                // time since last drop
                                drop_time: 0,
                                // ideal time between drops (changed with mouse/finger)
                                drop_delay: 25,
                                // wind applied to rain (changed with mouse/finger)
                                wind: 4,
                                // color of rain (set in init)
                                rain_color: null,
                                rain_color_clear: null,
                                // rain particles
                                rain: [],
                                rain_pool: [],
                                // rain droplet (splash) particles
                                drops: [],
                                drop_pool: []
                            };
                            
                            // demo initialization (should only run once)
                            demo.init = function() {
                                if (!demo.started) {
                                    demo.started = true;
                                    demo.canvas = document.getElementById('canvas');
                                    demo.ctx = demo.canvas.getContext('2d');
                                    var c = demo.color;
                                    demo.rain_color = 'rgba(' + c.r + ',' + c.g + ',' + c.b + ',' + c.a + ')';
                                    demo.rain_color_clear = 'rgba(' + c.r + ',' + c.g + ',' + c.b + ',0)';
                                    demo.resize();
                                    Ticker.addListener(demo.step);
                                    
                                    // 
                                    const gui = new dat.GUI();
                                    gui.add(demo, 'speed', 0.2, 2);
                                    
                                    // fade out instructions after a few seconds
                                    var instructions = document.getElementById('instructions');
                                    setTimeout(function() {
                                        instructions.style.opacity = 0;
                                        setTimeout(function(){
                                            instructions.parentNode.removeChild(instructions);
                                        }, 2000);
                                    }, 4000);
                                }
                            }
                            
                            // (re)size canvas (clears all particles)
                            demo.resize = function() {
                                // localize common references
                                var rain = demo.rain;
                                var drops = demo.drops;
                                // recycle particles
                                for (var i = rain.length - 1; i >= 0; i--) {
                                        rain.pop().recycle();
                                }
                                for (var i = drops.length - 1; i >= 0; i--) {
                                        drops.pop().recycle();
                                }
                                // resize
                                demo.width = window.innerWidth;
                                demo.height = window.innerHeight;
                                demo.canvas.width = demo.width * demo.dpr;
                                demo.canvas.height = demo.height * demo.dpr;
                            }
                            
                            demo.step = function(time, lag) {
                                // localize common references
                                var demo = window.demo;
                                var speed = demo.speed;
                                var width = demo.width;
                                var height = demo.height;
                                var wind = demo.wind;
                                var rain = demo.rain;
                                var rain_pool = demo.rain_pool;
                                var drops = demo.drops;
                                var drop_pool = demo.drop_pool;
                                
                                // multiplier for physics
                                var multiplier = speed * lag;
                                
                                // spawn drops
                                demo.drop_time += time * speed;
                                while (demo.drop_time > demo.drop_delay) {
                                    demo.drop_time -= demo.drop_delay;
                                    var new_rain = rain_pool.pop() || new Rain();
                                    new_rain.init();
                                    var wind_expand = Math.abs(height / new_rain.speed * wind); // expand spawn width as wind increases
                                    var spawn_x = Math.random() * (width + wind_expand);
                                    if (wind > 0) spawn_x -= wind_expand;
                                    new_rain.x = spawn_x;
                                    rain.push(new_rain);
                                }
                                
                                // rain physics
                                for (var i = rain.length - 1; i >= 0; i--) {
                                    var r = rain[i];
                                    r.y += r.speed * r.z * multiplier;
                                    r.x += r.z * wind * multiplier;
                                    // remove rain when out of view
                                    if (r.y > height) {
                                        // if rain reached bottom of view, show a splash
                                        r.splash();
                                    }
                                    // recycle rain
                                    if (r.y > height + Rain.height * r.z || (wind < 0 && r.x < wind) || (wind > 0 && r.x > width + wind)) {
                                        r.recycle();
                                        rain.splice(i, 1);
                                    }
                                }
                                
                                // splash drop physics
                                var drop_max_speed = Drop.max_speed;
                                for (var i = drops.length - 1; i >= 0; i--) {
                                    var d = drops[i];
                                    d.x += d.speed_x * multiplier;
                                    d.y += d.speed_y * multiplier;
                                    // apply gravity - magic number 0.3 represents a faked gravity constant
                                    d.speed_y += 0.3 * multiplier;
                                    // apply wind (but scale back the force)
                                    d.speed_x += wind / 25 * multiplier;
                                    if (d.speed_x < -drop_max_speed) {
                                        d.speed_x = -drop_max_speed;
                                    }else if (d.speed_x > drop_max_speed) {
                                        d.speed_x = drop_max_speed;
                                    }
                                    // recycle
                                    if (d.y > height + d.radius) {
                                        d.recycle();
                                        drops.splice(i, 1);
                                    }
                                }
                                
                                demo.draw();
                            }
                            
                            demo.draw = function() {
                                // localize common references
                                var demo = window.demo;
                                var width = demo.width;
                                var height = demo.height;
                                var dpr = demo.dpr;
                                var rain = demo.rain;
                                var drops = demo.drops;
                                var ctx = demo.ctx;
                                
                                // start fresh
                                ctx.clearRect(0, 0, width*dpr, height*dpr);
                                
                                // draw rain (trace all paths first, then stroke once)
                                ctx.beginPath();
                                var rain_height = Rain.height * dpr;
                                for (var i = rain.length - 1; i >= 0; i--) {
                                    var r = rain[i];
                                    var real_x = r.x * dpr;
                                    var real_y = r.y * dpr;
                                    ctx.moveTo(real_x, real_y);
                                    // magic number 1.5 compensates for lack of trig in drawing angled rain
                                    ctx.lineTo(real_x - demo.wind * r.z * dpr * 1.5, real_y - rain_height * r.z);
                                }
                                ctx.lineWidth = Rain.width * dpr;
                                ctx.strokeStyle = demo.rain_color;
                                ctx.stroke();
                                
                                // draw splash drops (just copy pre-rendered canvas)
                                for (var i = drops.length - 1; i >= 0; i--) {
                                    var d = drops[i];
                                    var real_x = d.x * dpr - d.radius;
                                    var real_y = d.y * dpr - d.radius;
                                    ctx.drawImage(d.canvas, real_x, real_y);
                                }
                            }
                            
                            
                            // Rain definition
                            function Rain() {
                                this.x = 0;
                                this.y = 0;
                                this.z = 0;
                                this.speed = 25;
                                this.splashed = false;
                            }
                            Rain.width = 2;
                            Rain.height = 40;
                            Rain.prototype.init = function() {
                                this.y = Math.random() * -100;
                                this.z = Math.random() * 0.5 + 0.5;
                                this.splashed = false;
                            }
                            Rain.prototype.recycle = function() {
                                demo.rain_pool.push(this);
                            }
                            // recycle rain particle and create a burst of droplets
                            Rain.prototype.splash = function() {
                                if (!this.splashed) {
                                    this.splashed = true;
                                    var drops = demo.drops;
                                    var drop_pool = demo.drop_pool;
                            
                                    for (var i=0; i<16; i++) {
                                        var drop = drop_pool.pop() || new Drop();
                                        drops.push(drop);
                                        drop.init(this.x);
                                    }
                                }
                            }
                            
                            
                            // Droplet definition
                            function Drop() {
                                this.x = 0;
                                this.y = 0;
                                this.radius = Math.round(Math.random() * 2 + 1) * demo.dpr;
                                this.speed_x = 0;
                                this.speed_y = 0;
                                this.canvas = document.createElement('canvas');
                                this.ctx = this.canvas.getContext('2d');
                                
                                // render once and cache
                                var diameter = this.radius * 2;
                                this.canvas.width = diameter;
                                this.canvas.height = diameter;
                            
                                var grd = this.ctx.createRadialGradient(this.radius, this.radius , 1, this.radius, this.radius, this.radius);
                                grd.addColorStop(0, demo.rain_color);
                                grd.addColorStop(1, demo.rain_color_clear);
                                this.ctx.fillStyle = grd;
                                this.ctx.fillRect(0, 0, diameter, diameter);
                            }
                            
                            Drop.max_speed = 5;
                            
                            Drop.prototype.init = function(x) {
                                this.x = x;
                                this.y = demo.height;
                                var angle = Math.random() * Math.PI - (Math.PI * 0.5);
                                var speed = Math.random() * Drop.max_speed;
                                this.speed_x = Math.sin(angle) * speed;
                                this.speed_y = -Math.cos(angle) * speed;
                            }
                            Drop.prototype.recycle = function() {
                                demo.drop_pool.push(this);
                            }
                            
                            
                            
                            
                            // handle interaction
                            demo.mouseHandler = function(evt) {
                                demo.updateCursor(evt.clientX, evt.clientY);
                            }
                            demo.touchHandler = function(evt) {
                                evt.preventDefault();
                                var touch = evt.touches[0];
                                demo.updateCursor(touch.clientX, touch.clientY);
                            }
                            demo.updateCursor = function(x, y) {
                                x /= demo.width;
                                y /= demo.height;
                                var y_inverse = (1 - y);
                                
                                demo.drop_delay = y_inverse*y_inverse*y_inverse * 100 + 2;
                                demo.wind = (x - 0.5) * 50;
                            }
                            
                            document.addEventListener('mousemove', demo.mouseHandler);
                            document.addEventListener('touchstart', demo.touchHandler);
                            document.addEventListener('touchmove', demo.touchHandler);
                            
                            
                            
                            // Frame ticker helper module
                            var Ticker = (function(){
                                var PUBLIC_API = {};
                            
                                // public
                                // will call function reference repeatedly once registered, passing elapsed time and a lag multiplier as parameters
                                PUBLIC_API.addListener = function addListener(fn) {
                                    if (typeof fn !== 'function') throw('Ticker.addListener() requires a function reference passed in.');
                            
                                    listeners.push(fn);
                            
                                    // start frame-loop lazily
                                    if (!started) {
                                        started = true;
                                        queueFrame();
                                    }
                                };
                            
                                // private
                                var started = false;
                                var last_timestamp = 0;
                                var listeners = [];
                                // queue up a new frame (calls frameHandler)
                                function queueFrame() {
                                    if (window.requestAnimationFrame) {
                                        requestAnimationFrame(frameHandler);
                                    } else {
                                        webkitRequestAnimationFrame(frameHandler);
                                    }
                                }
                                function frameHandler(timestamp) {
                                    var frame_time = timestamp - last_timestamp;
                                    last_timestamp = timestamp;
                                    // make sure negative time isn't reported (first frame can be whacky)
                                    if (frame_time < 0) {
                                        frame_time = 17;
                                    }
                                    // - cap minimum framerate to 15fps[~68ms] (assuming 60fps[~17ms] as 'normal')
                                    else if (frame_time > 68) {
                                        frame_time = 68;
                                    }
                            
                                    // fire custom listeners
                                    for (var i = 0, len = listeners.length; i < len; i++) {
                                        listeners[i].call(window, frame_time, frame_time / 16.67);
                                    }
                                    
                                    // always queue another frame
                                    queueFrame();
                                }
                            
                                return PUBLIC_API;
                            }());
                            </script>
              </textarea>
                </div>
    
            </div>
        </div>
    </div>


<div class="modal fade" id="firework" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Physics Ball Code</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <textarea spellcheck="false" class="form-control" name="" id="" cols="20" rows="30">
            <script src="https://code.jquery.com/jquery-2.1.0.min.js"></script>
            <script src="http://kerala.me/promo/lights/f.js"></script>
            
            <style type="text/css">
            canvas {
                    cursor: crosshair;
                    display: block;
                    left: 0;
                    position: absolute;
                    top: 0;
              background-color:black
            }
            </style>
            
            
            <script type="text/javascript">
                (function (i, s, o, g, r, a, m) {
                    i['GoogleAnalyticsObject'] = r;
                    i[r] = i[r] || function () {
                        (i[r].q = i[r].q || []).push(arguments)
                    }, i[r].l = 1 * new Date();
                    a = s.createElement(o),
                        m = s.getElementsByTagName(o)[0];
                    a.async = 1;
                    a.src = g;
                    m.parentNode.insertBefore(a, m)
                })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
                ga('create', 'UA-16233284-1', 'auto');
                ga('send', 'pageview');</script>              
          </textarea>
            </div>

        </div>
    </div>
</div>



<div class="modal fade" id="ball" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Physics Ball Code</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <textarea spellcheck="false" class="form-control" name="" id="" cols="20" rows="30">
<canvas id="c"></canvas>
<div id="info">
  <a id="close" href="">
  &#215;
  </a>
  <div class="title">
  Ball Physics
  </div>
  <div class="item">
  &#8226; Right click to interact.
  </div>
  <div class="item">
  &#8226; Left click to add a new ball.
  </div>
</div>

<style type="text/css">
* {
  margin: 0;
  padding: 0;
}

body,html {
  background: #FFF8E7;
  width: 100%;
  height: 100%;
}

canvas {
  background: #FFF8E7;
  width: 1000px;
  height: 360px;
  margin: 0 auto;
  display: block;
  border: 1px dashed #aaa;
  border-top: none;
}

#info {
  position: absolute;
  bottom: 0;
  left: 0;
  padding-bottom: 30px;
  background: rgba(0,0,0,0.4);
  border: 1px solid rgba(0,0,0,0.4);
}

#info #close {
  position: absolute;
  width: 17px;
  height: 20px;
  right: -17px;
  top: -2px;
  line-height: 20px;
  text-align: center;
  color: #fff;
  font-family: Arial, sans-serif;
  background: rgba(0,0,0,0.6);
  text-decoration: none;
  border-bottom-right-radius: 5px;
}

#info .title {
  width: 100%;
  height: 40px;
  line-height: 40px;
  text-align: center;
  color: #aaa;
  font-family: Arial, sans-serif;
  font-size: 18px;
  background: rgba(0,0,0,0.4);
}

#info .footer {
  width: 100%;
  height: 30px;
  position: absolute;
  bottom: 0;
  line-height: 30px;
  text-align: center;
  color: #ADE1F7;
  font-family: Arial, sans-serif;
  font-size: 16px;
  background: rgba(0,0,0,0.2);
  text-decoration: none;
}

#info .item {
  line-height: 40px;
  color: #333;
  font-family: Arial, sans-serif;
  font-size: 16px;
  margin: 0 10px;
}
</style>

<script>

    document.getElementById('close').onmousedown = function (e) {
        e.preventDefault();
        document.getElementById('info').style.display = 'none';
        return false;
    };

    var NUM_BALLS = 130,
        DAMPING = 0.7,
        GRAVITY = 0.6,
        MOUSE_SIZE = 50,
        SPEED = 1;

    var canvas, ctx, TWO_PI = Math.PI * 2, balls = [], mouse = { down: false, x: 0, y: 0 };

    window.requestAnimFrame =
        window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.oRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        function (callback) {
            window.setTimeout(callback, 1000 / 60);
        };

    var Ball = function (x, y, radius) {

        this.x = x;
        this.y = y;

        this.px = x;
        this.py = y;

        this.fx = 0;
        this.fy = 0;

        this.radius = radius;
    };

    Ball.prototype.apply_force = function (delta) {

        delta *= delta;

        this.fy += GRAVITY;

        this.x += this.fx * delta;
        this.y += this.fy * delta;

        this.fx = this.fy = 0;
    };

    Ball.prototype.verlet = function () {

        var nx = (this.x * 2) - this.px;
        var ny = (this.y * 2) - this.py;

        this.px = this.x;
        this.py = this.y;

        this.x = nx;
        this.y = ny;
    };

    Ball.prototype.draw = function (ctx) {

        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, TWO_PI);
        ctx.fill();
    };

    //---------------------------------------

    var resolve_collisions = function (ip) {

        var i = balls.length;

        while (i--) {

            var ball_1 = balls[i];

            if (mouse.down) {

                var diff_x = ball_1.x - mouse.x;
                var diff_y = ball_1.y - mouse.y;
                var dist = Math.sqrt(diff_x * diff_x + diff_y * diff_y);
                var real_dist = dist - (ball_1.radius + MOUSE_SIZE);

                if (real_dist < 0) {

                    var depth_x = diff_x * (real_dist / dist);
                    var depth_y = diff_y * (real_dist / dist);

                    ball_1.x -= depth_x * 0.005;
                    ball_1.y -= depth_y * 0.005;
                }
            }

            var n = balls.length;

            while (n--) {

                if (n == i) continue;

                var ball_2 = balls[n];

                var diff_x = ball_1.x - ball_2.x;
                var diff_y = ball_1.y - ball_2.y;

                var length = diff_x * diff_x + diff_y * diff_y;
                var dist = Math.sqrt(length);
                var real_dist = dist - (ball_1.radius + ball_2.radius);

                if (real_dist < 0) {

                    var vel_x1 = ball_1.x - ball_1.px;
                    var vel_y1 = ball_1.y - ball_1.py;
                    var vel_x2 = ball_2.x - ball_2.px;
                    var vel_y2 = ball_2.y - ball_2.py;

                    var depth_x = diff_x * (real_dist / dist);
                    var depth_y = diff_y * (real_dist / dist);

                    ball_1.x -= depth_x * 0.5;
                    ball_1.y -= depth_y * 0.5;

                    ball_2.x += depth_x * 0.5;
                    ball_2.y += depth_y * 0.5;

                    if (ip) {

                        var pr1 = DAMPING * (diff_x * vel_x1 + diff_y * vel_y1) / length,
                            pr2 = DAMPING * (diff_x * vel_x2 + diff_y * vel_y2) / length;

                        vel_x1 += pr2 * diff_x - pr1 * diff_x;
                        vel_x2 += pr1 * diff_x - pr2 * diff_x;

                        vel_y1 += pr2 * diff_y - pr1 * diff_y;
                        vel_y2 += pr1 * diff_y - pr2 * diff_y;

                        ball_1.px = ball_1.x - vel_x1;
                        ball_1.py = ball_1.y - vel_y1;

                        ball_2.px = ball_2.x - vel_x2;
                        ball_2.py = ball_2.y - vel_y2;
                    }
                }
            }
        }
    };

    var check_walls = function () {

        var i = balls.length;

        while (i--) {

            var ball = balls[i];

            if (ball.x < ball.radius) {

                var vel_x = ball.px - ball.x;
                ball.x = ball.radius;
                ball.px = ball.x - vel_x * DAMPING;

            } else if (ball.x + ball.radius > canvas.width) {

                var vel_x = ball.px - ball.x;
                ball.x = canvas.width - ball.radius;
                ball.px = ball.x - vel_x * DAMPING;
            }

            if (ball.y < ball.radius) {

                var vel_y = ball.py - ball.y;
                ball.y = ball.radius;
                ball.py = ball.y - vel_y * DAMPING;

            } else if (ball.y + ball.radius > canvas.height) {

                var vel_y = ball.py - ball.y;
                ball.y = canvas.height - ball.radius;
                ball.py = ball.y - vel_y * DAMPING;
            }
        }
    };

    var update = function () {

        //var time = new Date().getTime();

        var iter = 6;

        var delta = SPEED / iter;

        while (iter--) {

            var i = balls.length;

            while (i--) {

                balls[i].apply_force(delta);
                balls[i].verlet();
            }

            resolve_collisions();
            check_walls();

            var i = balls.length;
            while (i--) balls[i].verlet();

            resolve_collisions(1);
            check_walls();
        }

        ctx.clearRect(0, 0, canvas.width, canvas.height);

        ctx.fillStyle = 'rgba(27,155,244,0.3)';

        var i = balls.length;
        while (i--) balls[i].draw(ctx);

        if (mouse.down) {

            ctx.fillStyle = 'rgba(0,0,0,0.1)';
            ctx.strokeStyle = 'rgba(0,0,0,0.2)';

            ctx.beginPath();
            ctx.arc(mouse.x, mouse.y, MOUSE_SIZE, 0, TWO_PI);
            ctx.fill();
            ctx.stroke();
        }

        requestAnimFrame(update);

        //console.log(new Date().getTime() - time);
    };

    var add_ball = function (x, y, r) {

        var x = x || Math.random() * (canvas.width - 60) + 30,
            y = y || Math.random() * (canvas.height - 60) + 30,
            r = r || 10 + Math.random() * 20,
            s = true,
            i = balls.length;

        while (i--) {

            var ball = balls[i];
            var diff_x = ball.x - x;
            var diff_y = ball.y - y;
            var dist = Math.sqrt(diff_x * diff_x + diff_y * diff_y);

            if (dist < ball.radius + r) {
                s = false;
                break;
            }
        }

        if (s) balls.push(new Ball(x, y, r));
    };

    window.onload = function () {

        canvas = document.getElementById('c');
        ctx = canvas.getContext('2d');

        canvas.width = 1000;
        canvas.height = 360;

        while (NUM_BALLS--) add_ball();

        canvas.onmousedown = function (e) {

            if (e.which == 1) {

                add_ball(mouse.x, mouse.y);

            } else if (e.which == 3) {

                mouse.down = true;
                document.body.style.cursor = 'none';
            }

            e.preventDefault();
        };

        canvas.onmouseup = function (e) {

            if (e.which == 3) {

                mouse.down = false;
                document.body.style.cursor = 'default';
            }

            e.preventDefault();
        };

        canvas.onmousemove = function (e) {

            var rect = this.getBoundingClientRect();
            mouse.x = e.clientX - rect.left;
            mouse.y = e.clientY - rect.top;
        };

        canvas.onmouseout = function (e) {

            mouse.down = false;
            document.body.style.cursor = 'default';
        };

        canvas.oncontextmenu = function (e) {

            e.preventDefault();
            return false;
        };

        update();
    };
</script>
          </textarea>
            </div>

        </div>
    </div>
</div>





<%include bottom %>
<footer id="main-footer" class="bg-primary mt-4" style="
left: 0;
bottom: 0;
width: 100%;
color: white;
text-align: center;">
    <div class="container  ">
        <div class="row">
            <div class="col text-center">
                <div class="py-4">
                    <h1 class="h3">iTutor</h1>
                    <p>Copyright &copy; 2018 </p>
                    <a class="btn btn-primary" target="_blank" href="https://www.facebook.com/sanjaysingh.bhandari.94">
                        Contact US
                    </a>
                </div>
            </div>
        </div>
    </div>
</footer>